\hyperlink{unionTinyStr}{Tiny\+Str} is a C library for efficiently dealing with short strings (7 characters at most).

Internally strings are stored as a union between a character array with 8 elements and a 64-\/bit integer, using bitwise operations on the latter where possible for speed. They are always null terminated and additionally they have the property that any bytes beyond the first null byte, are also null bytes, giving each string a unique representation.

\subsubsection*{Compiling and Using}

See the included {\ttfamily Makefile} and {\ttfamily example.\+c} source file.

\subsubsection*{Operations}

\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*3{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}{\bf Operation }&{\bf Prototype }&{\bf Notes  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}{\bf Operation }&{\bf Prototype }&{\bf Notes  }\\\cline{1-3}
\endhead
Create New &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_a1014e8511651b9a255b42c42176d06b3}{tiny\+Str\+New(void)} &Returns empty string \\\cline{1-3}
Create From C-\/string &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_a180f5fb2d869a29a84e1bef615b5d7aa}{tiny\+Str\+From\+C(const char $\ast$cstr)} &Only at most the first 7 characters are copied. \\\cline{1-3}
Get Length &unsigned \hyperlink{tinystr_8h_af7822bd0caacdc85637c72281d72aabf}{tiny\+Str\+Len(\+Tiny\+Str str)} &\\\cline{1-3}
Test Equality &bool \hyperlink{tinystr_8h_a162f47ec690bcb03b097063d4d4fd605}{tiny\+Str\+Equal(\+Tiny\+Str str1, Tiny\+Str str2)} &\\\cline{1-3}
Compare &int tiny\+Str\+Cmp(\+Tiny\+Str str1, Tiny\+Str str2) &Acts as strcmp \\\cline{1-3}
Hash &uint64\+\_\+t \hyperlink{tinystr_8h_a083ff5929310b5b861aa520f8e93e92c}{tiny\+Str\+Perfect\+Hash(\+Tiny\+Str str)} &Returns a unique 64 bit integer for each valid string. \\\cline{1-3}
Hash (order perserving) &uint64\+\_\+t \hyperlink{tinystr_8h_a74aa53d4d62f156e9d954f39d5b519d3}{tiny\+Str\+Perfect\+Hash\+Order\+Preserving(\+Tiny\+Str str)} &Same as the above but if a$<$b (asciibetically) then f(a)$<$f(b), for all valid strings a and b. \\\cline{1-3}
Sub-\/string &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_ac1d49fc76dcbac990a6339b5a8f34056}{tiny\+Str\+Sub(\+Tiny\+Str str, unsigned offset, unsigned length)} &\\\cline{1-3}
Concatenate &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_a5df3565241f3d3b8a9ff37648648eeeb}{tiny\+Str\+Cat(\+Tiny\+Str str1, Tiny\+Str str2)} &\\\cline{1-3}
Truncate &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_a9e68ecf658de66bd7fd934035db9ae3d}{tiny\+Str\+Truncate(\+Tiny\+Str str, unsigned length)} &\\\cline{1-3}
printf &\hyperlink{unionTinyStr}{Tiny\+Str} tiny\+Str\+Printf(const char $\ast$format, ...) &See vprintf \\\cline{1-3}
vprintf &\hyperlink{unionTinyStr}{Tiny\+Str} \hyperlink{tinystr_8h_a91962a306055db78687958e848419e41}{tiny\+Str\+V\+Printf(const char $\ast$format, va\+\_\+list ap)} &Uses stdlib vsnprintf so acts identically. \\\cline{1-3}
Check Validity &bool \hyperlink{tinystr_8h_a7eda70f2f559a0f8c705c0f46c4ab105}{tiny\+Str\+Is\+Valid(\+Tiny\+Str str)} &As all unused bytes have to be null only a subset of all possible states are valid. \\\cline{1-3}
\end{longtabu}
Note\+: almost all functions are constant time, such as tiny\+Str\+Len, tiny\+Str\+Cat and tiny\+Str\+Cmp.

There is also a macro -\/ tiny\+Str\+ToC -\/ which gives a safe way to use a \hyperlink{unionTinyStr}{Tiny\+Str} as a const c-\/string.

\subsubsection*{Terms of use}

\hyperlink{unionTinyStr}{Tiny\+Str} is free, and distributed under the {\bfseries G\+NU General Public License} (G\+PL). Essentially, this means that you are free to do almost exactly what you want with the program, including distributing it among your friends, making it available for download from your web site, selling it (either by itself or as part of some bigger software package), or using it as the starting point for a software project of your own.

The only real limitation is that whenever you distribute \hyperlink{unionTinyStr}{Tiny\+Str} in some way, you must always include the full source code, or a pointer to where the source code can be found. If you make any changes to the source code, these changes must also be made available under the G\+PL.

For full details, read the copy of the G\+PL found in the file named {\itshape Copying.\+txt}. 